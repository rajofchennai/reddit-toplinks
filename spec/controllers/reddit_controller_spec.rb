require 'spec_helper'

describe RedditController do
  describe "top_url" do
    context "page number" do
      it "page number 1 to max pages should be unchanged" do
        get "top_url", page: 1
        assigns(:page).should == 1
        get "top_url", page: 3
        assigns(:page).should == 3
      end

      it "invalid input should default to 1" do
        get "top_url", page: "abc"
        assigns(:page).should == 1
      end

      it "valid input outside 1..max pages should be same but feeds must be nil" do
        get "top_url", page: 100
        assigns(:page).should == 100
        assigns(:feeds).should == nil
        get "top_url", page: -1
        assigns(:page).should == -1
        assigns(:feeds).should == nil
      end
    end

    context "pagination" do
      context "proper request url to reddit" do
        it "top_urls after a specific feed" do
          RestClient.expects(:get).with("http://www.reddit.com/top.json?limit=15&after=abcdefg").returns("{\"data\":{\"children\":[{\"data\":{\"name\":\"a\"}}]}}")
          get 'top_url', after: "abcdefg"
        end

        it "top_urls before a specific feed" do
          RestClient.expects(:get).with("http://www.reddit.com/top.json?limit=15&before=xyzabc").returns("{\"data\":{\"children\":[{\"data\":{\"name\":\"a\"}}]}}")
          get 'top_url', before: "xyzabc"
        end

        it "top_urls before a specific feed and after a specific feed" do
          RestClient.expects(:get).with("http://www.reddit.com/top.json?limit=15&after=qwerty&before=12345").returns("{\"data\":{\"children\":[{\"data\":{\"name\":\"a\"}}]}}")
          get 'top_url', after: "qwerty", before: "12345"
        end
      end

      it "page number one should give 0..page_size-1 of the feed" do
        RestClient.expects(:get).with('http://www.reddit.com/top.json?limit=15').returns(sample_feed)
        get 'top_url', page: 1
        data = JSON.parse(sample_feed)['data']['children']
        assigns(:feeds).should == data
        assigns(:previous_page).should == "/reddit/top_url?before=t3_19c7yz&page=0"
        assigns(:next_page).should == "/reddit/top_url?after=t3_19cefe&page=2"
      end

      it "page number x should (x-1)*page_size..(x*page_size -1) of the feed" do
        RestClient.expects(:get).with('http://www.reddit.com/top.json?limit=15&after=abcdef').returns(sample_feed)
        get "top_url", page: 3, after: "abcdef"
        data = JSON.parse(sample_feed)['data']['children']
        assigns(:feeds).should == data
        assigns(:previous_page).should == "/reddit/top_url?before=t3_19c7yz&page=2"
        assigns(:next_page).should == "/reddit/top_url?after=t3_19cefe&page=4"
      end
    end
  end

  # sample feed taken from reddit top.json
  def sample_feed

    "{\"kind\": \"Listing\", \"data\": {\"modhash\": \"\", \"children\": [{\"kind\": \"t3\", \"data\": {\"domain\": \"theverge.com\", \"banned_by\": null, \"media_embed\": {}, \"subreddit\": \"technology\", \"selftext_html\": null, \"selftext\": \"\", \"likes\": null, \"link_flair_text\": null, \"id\": \"19c7yz\", \"clicked\": false, \"title\": \"Time Warner Cable says there's no consumer demand for gigabit internet\", \"media\": null, \"score\": 3504, \"approved_by\": null, \"over_18\": false, \"hidden\": false, \"thumbnail\": \"\", \"subreddit_id\": \"t5_2qh16\", \"edited\": false, \"link_flair_css_class\": null, \"author_flair_css_class\": null, \"downs\": 12656, \"saved\": false, \"is_self\": false, \"permalink\": \"/r/technology/comments/19c7yz/time_warner_cable_says_theres_no_consumer_demand/\", \"name\": \"t3_19c7yz\", \"created\": 1362016864.0, \"url\": \"http://www.theverge.com/2013/2/27/4036128/time-warner-cable-no-consumer-demand-for-fiber-gigabit-internet\", \"author_flair_text\": null, \"author\": \"ground-zero\", \"created_utc\": 1361988064.0, \"ups\": 16160, \"num_comments\": 2735, \"num_reports\": null, \"distinguished\": null}}, {\"kind\": \"t3\", \"data\": {\"domain\": \"youtu.be\", \"banned_by\": null, \"media_embed\": {\"content\": \"&lt;iframe width=\\\"600\\\" height=\\\"338\\\" src=\\\"http://www.youtube.com/embed/zAIPL5O9Uwk?feature=oembed\\\" frameborder=\\\"0\\\" allowfullscreen&gt;&lt;/iframe&gt;\", \"width\": 600, \"scrolling\": false, \"height\": 338}, \"subreddit\": \"videos\", \"selftext_html\": null, \"selftext\": \"\", \"likes\": null, \"link_flair_text\": null, \"id\": \"19dmwp\", \"clicked\": false, \"title\": \"How long do you think it took him to learn this?  \", \"media\": {\"type\": \"youtu.be\", \"oembed\": {\"provider_url\": \"http://www.youtube.com/\", \"description\": \"Sleight of Hand: Ravi solves the rubik's cube while juggling! This guy should be knighted Sir Ravi the juggler.\", \"title\": \"Sir Ravi The Juggler\", \"url\": \"http://www.youtube.com/watch?v=zAIPL5O9Uwk\", \"type\": \"video\", \"author_name\": \"steveberkecomedy\", \"height\": 338, \"width\": 600, \"html\": \"&lt;iframe width=\\\"600\\\" height=\\\"338\\\" src=\\\"http://www.youtube.com/embed/zAIPL5O9Uwk?feature=oembed\\\" frameborder=\\\"0\\\" allowfullscreen&gt;&lt;/iframe&gt;\", \"thumbnail_width\": 480, \"version\": \"1.0\", \"provider_name\": \"YouTube\", \"thumbnail_url\": \"http://i3.ytimg.com/vi/zAIPL5O9Uwk/hqdefault.jpg\", \"thumbnail_height\": 360, \"author_url\": \"http://www.youtube.com/user/steveberkecomedy\"}}, \"score\": 3135, \"approved_by\": null, \"over_18\": false, \"hidden\": false, \"thumbnail\": \"http://c.thumbs.redditmedia.com/KysA6IGLgfm4Xikt.jpg\", \"subreddit_id\": \"t5_2qh1e\", \"edited\": false, \"link_flair_css_class\": null, \"author_flair_css_class\": null, \"downs\": 10434, \"saved\": false, \"is_self\": false, \"permalink\": \"/r/videos/comments/19dmwp/how_long_do_you_think_it_took_him_to_learn_this/\", \"name\": \"t3_19dmwp\", \"created\": 1362055718.0, \"url\": \"http://youtu.be/zAIPL5O9Uwk\", \"author_flair_text\": null, \"author\": \"allucinate\", \"created_utc\": 1362026918.0, \"ups\": 13569, \"num_comments\": 732, \"num_reports\": null, \"distinguished\": null}}, {\"kind\": \"t3\", \"data\": {\"domain\": \"consortiumnews.com\", \"banned_by\": null, \"media_embed\": {}, \"subreddit\": \"politics\", \"selftext_html\": null, \"selftext\": \"\", \"likes\": null, \"link_flair_text\": null, \"id\": \"19ddao\", \"clicked\": false, \"title\": \"A newly discovered document reveals that President Reagan and his national security team in 1981 approved Guatemala\\u2019s extermination of both leftist guerrillas and their \\u201ccivilian support mechanisms,\\u201d a green light that opened a path to genocide against hundreds of Mayan villages\", \"media\": null, \"score\": 2876, \"approved_by\": null, \"over_18\": false, \"hidden\": false, \"thumbnail\": \"\", \"subreddit_id\": \"t5_2cneq\", \"edited\": false, \"link_flair_css_class\": null, \"author_flair_css_class\": null, \"downs\": 7565, \"saved\": false, \"is_self\": false, \"permalink\": \"/r/politics/comments/19ddao/a_newly_discovered_document_reveals_that/\", \"name\": \"t3_19ddao\", \"created\": 1362048048.0, \"url\": \"http://consortiumnews.com/2013/02/21/how-reagan-promoted-genocide/\", \"author_flair_text\": null, \"author\": \"alllie\", \"created_utc\": 1362019248.0, \"ups\": 10441, \"num_comments\": 1368, \"num_reports\": null, \"distinguished\": null}}, {\"kind\": \"t3\", \"data\": {\"domain\": \"imgur.com\", \"banned_by\": null, \"media_embed\": {}, \"subreddit\": \"pics\", \"selftext_html\": null, \"selftext\": \"\", \"likes\": null, \"link_flair_text\": null, \"id\": \"19cczu\", \"clicked\": false, \"title\": \"Photographer's girlfriend leads him around the world\", \"media\": null, \"score\": 2779, \"approved_by\": null, \"over_18\": false, \"hidden\": false, \"thumbnail\": \"http://f.thumbs.redditmedia.com/-9vI7aYMld4FYVr5.jpg\", \"subreddit_id\": \"t5_2qh0u\", \"edited\": false, \"link_flair_css_class\": null, \"author_flair_css_class\": null, \"downs\": 69801, \"saved\": false, \"is_self\": false, \"permalink\": \"/r/pics/comments/19cczu/photographers_girlfriend_leads_him_around_the/\", \"name\": \"t3_19cczu\", \"created\": 1362020742.0, \"url\": \"http://imgur.com/a/HlXzY\", \"author_flair_text\": null, \"author\": \"makemisteaks\", \"created_utc\": 1361991942.0, \"ups\": 72580, \"num_comments\": 4523, \"num_reports\": null, \"distinguished\": null}}, {\"kind\": \"t3\", \"data\": {\"domain\": \"self.IAmA\", \"banned_by\": null, \"media_embed\": {}, \"subreddit\": \"IAmA\", \"selftext_html\": \"&lt;!-- SC_OFF --&gt;&lt;div class=\\\"md\\\"&gt;&lt;p&gt;Hey Reddit, I\\u2019m John Cusack. I make films and we can talk about that if you like, but I\\u2019m also on the board of directors of a new organization called &lt;a href=\\\"https://pressfreedomfoundation.org\\\"&gt;Freedom of the Press Foundation&lt;/a&gt;. My fellow board members include legendary whistleblower Daniel Ellsberg, writers Glenn Greenwald and Xeni Jardin, award-winning documentary filmmaker Laura Poitras, and EFF co-founder John Perry Barlow.&lt;/p&gt;\\n\\n&lt;p&gt;We all came together in December to try to start a broad movement to help protect and defend the First Amendment, given secrecy is at an all time high and whistleblowers have never been under greater attack. I wrote about it for &lt;a href=\\\"http://www.huffingtonpost.com/john-cusack/why-im-donating-to-fund-t_b_2632389.html\\\"&gt;Huffington Post here&lt;/a&gt;.  You can also read the two talks I did with leading free speech law professor Jonathan Turley and Kevin McCabe &lt;a href=\\\"http://www.huffingtonpost.com/john-cusack/what-is-an-assange_b_2317824.html\\\"&gt;here&lt;/a&gt; and &lt;a href=\\\"http://www.huffingtonpost.com/john-cusack/what-is-an-assange-part-2_b_2402236.html\\\"&gt;here&lt;/a&gt;.  &lt;/p&gt;\\n\\n&lt;p&gt;Back in 2010, WikiLeaks was cut-off from payment processors despite committing no crime, after unofficial pressure from a couple Congressman. We wanted to make sure that doesn\\u2019t happen to another journalism organization again, but we also wanted to help other organizations bring transparency to government.&lt;/p&gt;\\n\\n&lt;p&gt;So, we\\u2019re taking donations to WikiLeaks, but also supporting three other innovative organizations, the Bureau of Investigative Journalism, Truthout, and Public Integrity.&lt;/p&gt;\\n\\n&lt;p&gt;They each have a specific secrecy-busting project on US drone strikes, the Guantanamo trials, and US defense spending that your money will fund. And every two months, we&amp;#39;re going to support a new bundle of organizations similar to these. You can go to our website and donate to any or all of these organizations here: &lt;a href=\\\"https://pressfreedomfoundation.org\\\"&gt;https://pressfreedomfoundation.org&lt;/a&gt;&lt;/p&gt;\\n\\n&lt;p&gt;So hopefully you donate. But whether or not you do, spread the word around and read and support these organizations that are doing such important work. Obviously everyone can&amp;#39;t afford to donate, but awareness and knowledge is just as important.&lt;/p&gt;\\n\\n&lt;p&gt;Ask me anything though.&lt;/p&gt;\\n\\n&lt;p&gt;You can &lt;a href=\\\"http://twitter.com/johncusack\\\"&gt;follow me on Twitter here&lt;/a&gt; and Freedom of the Press Foundation&amp;#39;s &lt;a href=\\\"http://twitter.com/freedomofpress\\\"&gt;Twitter account is here&lt;/a&gt;.&lt;/p&gt;\\n\\n&lt;p&gt;&lt;a href=\\\"https://twitter.com/johncusack/status/306844877914796033\\\"&gt;Proof it&amp;#39;s me&lt;/a&gt;. &lt;/p&gt;\\n\\n&lt;p&gt;&lt;strong&gt;UPDATE:&lt;/strong&gt; Thanks Reddit this was great fun...I hope to do it again. Follow me on twitter &lt;a href=\\\"http://twitter.com/johncusack\\\"&gt;@johncusack&lt;/a&gt;. I&amp;#39;ll be back soon if you&amp;#39;d like!&lt;/p&gt;\\n&lt;/div&gt;&lt;!-- SC_ON --&gt;\", \"selftext\": \"Hey Reddit, I\\u2019m John Cusack. I make films and we can talk about that if you like, but I\\u2019m also on the board of directors of a new organization called [Freedom of the Press Foundation](https://pressfreedomfoundation.org). My fellow board members include legendary whistleblower Daniel Ellsberg, writers Glenn Greenwald and Xeni Jardin, award-winning documentary filmmaker Laura Poitras, and EFF co-founder John Perry Barlow.\\n\\nWe all came together in December to try to start a broad movement to help protect and defend the First Amendment, given secrecy is at an all time high and whistleblowers have never been under greater attack. I wrote about it for [Huffington Post here](http://www.huffingtonpost.com/john-cusack/why-im-donating-to-fund-t_b_2632389.html).  You can also read the two talks I did with leading free speech law professor Jonathan Turley and Kevin McCabe [here](http://www.huffingtonpost.com/john-cusack/what-is-an-assange_b_2317824.html) and [here](http://www.huffingtonpost.com/john-cusack/what-is-an-assange-part-2_b_2402236.html).  \\n\\nBack in 2010, WikiLeaks was cut-off from payment processors despite committing no crime, after unofficial pressure from a couple Congressman. We wanted to make sure that doesn\\u2019t happen to another journalism organization again, but we also wanted to help other organizations bring transparency to government.\\n\\nSo, we\\u2019re taking donations to WikiLeaks, but also supporting three other innovative organizations, the Bureau of Investigative Journalism, Truthout, and Public Integrity.\\n\\nThey each have a specific secrecy-busting project on US drone strikes, the Guantanamo trials, and US defense spending that your money will fund. And every two months, we're going to support a new bundle of organizations similar to these. You can go to our website and donate to any or all of these organizations here: https://pressfreedomfoundation.org\\n\\nSo hopefully you donate. But whether or not you do, spread the word around and read and support these organizations that are doing such important work. Obviously everyone can't afford to donate, but awareness and knowledge is just as important.\\n\\nAsk me anything though.\\n\\nYou can [follow me on Twitter here](http://twitter.com/johncusack) and Freedom of the Press Foundation's [Twitter account is here](http://twitter.com/freedomofpress).\\n\\n[Proof it's me](https://twitter.com/johncusack/status/306844877914796033). \\n\\n**UPDATE:** Thanks Reddit this was great fun...I hope to do it again. Follow me on twitter [@johncusack](http://twitter.com/johncusack). I'll be back soon if you'd like!\\n\", \"likes\": null, \"link_flair_text\": \"\", \"id\": \"19cdc3\", \"clicked\": false, \"title\": \"Hey, it's John Cusack. I'm here talk to about Freedom of the Press Foundation, among other things. Ask me anything. \", \"media\": null, \"score\": 2758, \"approved_by\": null, \"over_18\": false, \"hidden\": false, \"thumbnail\": \"self\", \"subreddit_id\": \"t5_2qzb6\", \"edited\": 1362020028.0, \"link_flair_css_class\": \"actor\", \"author_flair_css_class\": null, \"downs\": 16911, \"saved\": false, \"is_self\": true, \"permalink\": \"/r/IAmA/comments/19cdc3/hey_its_john_cusack_im_here_talk_to_about_freedom/\", \"name\": \"t3_19cdc3\", \"created\": 1361992195.0, \"url\": \"http://www.reddit.com/r/IAmA/comments/19cdc3/hey_its_john_cusack_im_here_talk_to_about_freedom/\", \"author_flair_text\": null, \"author\": \"johncusackFPF\", \"created_utc\": 1361992195.0, \"ups\": 19669, \"num_comments\": 3546, \"num_reports\": null, \"distinguished\": null}}, {\"kind\": \"t3\", \"data\": {\"domain\": \"i.imgur.com\", \"banned_by\": null, \"media_embed\": {}, \"subreddit\": \"funny\", \"selftext_html\": null, \"selftext\": \"\", \"likes\": null, \"link_flair_text\": null, \"id\": \"19c9rm\", \"clicked\": false, \"title\": \"This dog just wandered over to our yard, so we checked her tags...\", \"media\": null, \"score\": 2744, \"approved_by\": null, \"over_18\": false, \"hidden\": false, \"thumbnail\": \"\", \"subreddit_id\": \"t5_2qh33\", \"edited\": false, \"link_flair_css_class\": null, \"author_flair_css_class\": null, \"downs\": 34441, \"saved\": false, \"is_self\": false, \"permalink\": \"/r/funny/comments/19c9rm/this_dog_just_wandered_over_to_our_yard_so_we/\", \"name\": \"t3_19c9rm\", \"created\": 1362018275.0, \"url\": \"http://i.imgur.com/ZOI2gIv.jpg\", \"author_flair_text\": null, \"author\": \"heythereanna\", \"created_utc\": 1361989475.0, \"ups\": 37185, \"num_comments\": 530, \"num_reports\": null, \"distinguished\": null}}, {\"kind\": \"t3\", \"data\": {\"domain\": \"98fm.com\", \"banned_by\": null, \"media_embed\": {}, \"subreddit\": \"movies\", \"selftext_html\": null, \"selftext\": \"\", \"likes\": null, \"link_flair_text\": \"\", \"id\": \"19cito\", \"clicked\": false, \"title\": \"Liam Neeson on why there won't be a Taken 3: \\\"She can\\u2019t get taken again.  That\\u2019s just bad parenting\\\"\", \"media\": null, \"score\": 2712, \"approved_by\": null, \"over_18\": false, \"hidden\": false, \"thumbnail\": \"http://f.thumbs.redditmedia.com/gnnopi32RMk6t5JA.jpg\", \"subreddit_id\": \"t5_2qh3s\", \"edited\": false, \"link_flair_css_class\": \"article\", \"author_flair_css_class\": null, \"downs\": 23892, \"saved\": false, \"is_self\": false, \"permalink\": \"/r/movies/comments/19cito/liam_neeson_on_why_there_wont_be_a_taken_3_she/\", \"name\": \"t3_19cito\", \"created\": 1362024842.0, \"url\": \"http://www.98fm.com/2012/category-entertainment/gossipgirl/category-showbiz/liam-neeson-on-98fm/\", \"author_flair_text\": null, \"author\": \"indian22\", \"created_utc\": 1361996042.0, \"ups\": 26604, \"num_comments\": 956, \"num_reports\": null, \"distinguished\": null}}, {\"kind\": \"t3\", \"data\": {\"domain\": \"en.wikipedia.org\", \"banned_by\": null, \"media_embed\": {}, \"subreddit\": \"todayilearned\", \"selftext_html\": null, \"selftext\": \"\", \"likes\": null, \"link_flair_text\": null, \"id\": \"19dh1p\", \"clicked\": false, \"title\": \"TIL that during the 2008 world hops shortage, the Samuel Adams brewery sold 108 craft breweries their excess hops, at cost, to help prevent them from going under.\", \"media\": null, \"score\": 2747, \"approved_by\": null, \"over_18\": false, \"hidden\": false, \"thumbnail\": \"http://b.thumbs.redditmedia.com/gJR_GDy3kIicMvfI.jpg\", \"subreddit_id\": \"t5_2qqjc\", \"edited\": false, \"link_flair_css_class\": null, \"author_flair_css_class\": null, \"downs\": 20131, \"saved\": false, \"is_self\": false, \"permalink\": \"/r/todayilearned/comments/19dh1p/til_that_during_the_2008_world_hops_shortage_the/\", \"name\": \"t3_19dh1p\", \"created\": 1362050865.0, \"url\": \"http://en.wikipedia.org/wiki/Samuel_Adams_%28beer%29#2008_hops_shortage\", \"author_flair_text\": null, \"author\": \"basherrr\", \"created_utc\": 1362022065.0, \"ups\": 22878, \"num_comments\": 1058, \"num_reports\": null, \"distinguished\": null}}, {\"kind\": \"t3\", \"data\": {\"domain\": \"i.imgur.com\", \"banned_by\": null, \"media_embed\": {}, \"subreddit\": \"funny\", \"selftext_html\": null, \"selftext\": \"\", \"likes\": null, \"link_flair_text\": null, \"id\": \"19d4oh\", \"clicked\": false, \"title\": \"I was wrestling with my dog and forgot that he never misses an opportunity to eat\", \"media\": null, \"score\": 2670, \"approved_by\": null, \"over_18\": false, \"hidden\": false, \"thumbnail\": \"\", \"subreddit_id\": \"t5_2qh33\", \"edited\": false, \"link_flair_css_class\": null, \"author_flair_css_class\": null, \"downs\": 35105, \"saved\": false, \"is_self\": false, \"permalink\": \"/r/funny/comments/19d4oh/i_was_wrestling_with_my_dog_and_forgot_that_he/\", \"name\": \"t3_19d4oh\", \"created\": 1362041272.0, \"url\": \"http://i.imgur.com/Ou8nznv.jpg\", \"author_flair_text\": null, \"author\": \"Draxan\", \"created_utc\": 1362012472.0, \"ups\": 37775, \"num_comments\": 672, \"num_reports\": null, \"distinguished\": null}}, {\"kind\": \"t3\", \"data\": {\"domain\": \"guardian.co.uk\", \"banned_by\": null, \"media_embed\": {}, \"subreddit\": \"worldnews\", \"selftext_html\": null, \"selftext\": \"\", \"likes\": null, \"link_flair_text\": null, \"id\": \"19cuvf\", \"clicked\": false, \"title\": \"'Marijuana cannon' used to fire drugs over US border seized in Mexico\", \"media\": null, \"score\": 2615, \"approved_by\": null, \"over_18\": false, \"hidden\": false, \"thumbnail\": \"\", \"subreddit_id\": \"t5_2qh13\", \"edited\": false, \"link_flair_css_class\": null, \"author_flair_css_class\": null, \"downs\": 10977, \"saved\": false, \"is_self\": false, \"permalink\": \"/r/worldnews/comments/19cuvf/marijuana_cannon_used_to_fire_drugs_over_us/\", \"name\": \"t3_19cuvf\", \"created\": 1362033789.0, \"url\": \"http://www.guardian.co.uk/world/2013/feb/27/marijuana-cannon-us-border-seized-mexico?CMP=SOCNETTXT6965\", \"author_flair_text\": null, \"author\": \"ROFLMFAO\", \"created_utc\": 1362004989.0, \"ups\": 13592, \"num_comments\": 1111, \"num_reports\": null, \"distinguished\": null}}, {\"kind\": \"t3\", \"data\": {\"domain\": \"qkme.me\", \"banned_by\": null, \"media_embed\": {}, \"subreddit\": \"AdviceAnimals\", \"selftext_html\": null, \"selftext\": \"\", \"likes\": null, \"link_flair_text\": null, \"id\": \"19d808\", \"clicked\": false, \"title\": \"I quit my job today. I always knew my boss was a good guy... and this was his response.\", \"media\": null, \"score\": 2597, \"approved_by\": null, \"over_18\": false, \"hidden\": false, \"thumbnail\": \"http://d.thumbs.redditmedia.com/sCHhhTDPoWhpxfB-.jpg\", \"subreddit_id\": \"t5_2s7tt\", \"edited\": false, \"link_flair_css_class\": null, \"author_flair_css_class\": null, \"downs\": 27315, \"saved\": false, \"is_self\": false, \"permalink\": \"/r/AdviceAnimals/comments/19d808/i_quit_my_job_today_i_always_knew_my_boss_was_a/\", \"name\": \"t3_19d808\", \"created\": 1362044036.0, \"url\": \"http://qkme.me/3t64fr\", \"author_flair_text\": null, \"author\": \"gkden\", \"created_utc\": 1362015236.0, \"ups\": 29912, \"num_comments\": 538, \"num_reports\": null, \"distinguished\": null}}, {\"kind\": \"t3\", \"data\": {\"domain\": \"en.wikipedia.org\", \"banned_by\": null, \"media_embed\": {}, \"subreddit\": \"todayilearned\", \"selftext_html\": null, \"selftext\": \"\", \"likes\": null, \"link_flair_text\": null, \"id\": \"19cqtc\", \"clicked\": false, \"title\": \"TIL that between the time it was discovered and the time it was unclassified as a planet, Pluto did not even complete one revolution around the sun.\", \"media\": null, \"score\": 2535, \"approved_by\": null, \"over_18\": false, \"hidden\": false, \"thumbnail\": \"http://c.thumbs.redditmedia.com/VdchAMfVmfNExMCz.jpg\", \"subreddit_id\": \"t5_2qqjc\", \"edited\": false, \"link_flair_css_class\": null, \"author_flair_css_class\": null, \"downs\": 11685, \"saved\": false, \"is_self\": false, \"permalink\": \"/r/todayilearned/comments/19cqtc/til_that_between_the_time_it_was_discovered_and/\", \"name\": \"t3_19cqtc\", \"created\": 1362030771.0, \"url\": \"http://en.wikipedia.org/wiki/Pluto??#Orbit_and_rotation\", \"author_flair_text\": null, \"author\": \"mjski1429\", \"created_utc\": 1362001971.0, \"ups\": 14220, \"num_comments\": 647, \"num_reports\": null, \"distinguished\": null}}, {\"kind\": \"t3\", \"data\": {\"domain\": \"i.imgur.com\", \"banned_by\": null, \"media_embed\": {}, \"subreddit\": \"aww\", \"selftext_html\": null, \"selftext\": \"\", \"likes\": null, \"link_flair_text\": null, \"id\": \"19cez4\", \"clicked\": false, \"title\": \"When I Reddit from my phone laying down, this happens on top of me...\", \"media\": null, \"score\": 2520, \"approved_by\": null, \"over_18\": false, \"hidden\": false, \"thumbnail\": \"http://e.thumbs.redditmedia.com/QAHK2-QMz211Wy4R.jpg\", \"subreddit_id\": \"t5_2qh1o\", \"edited\": false, \"link_flair_css_class\": null, \"author_flair_css_class\": null, \"downs\": 17878, \"saved\": false, \"is_self\": false, \"permalink\": \"/r/aww/comments/19cez4/when_i_reddit_from_my_phone_laying_down_this/\", \"name\": \"t3_19cez4\", \"created\": 1362022169.0, \"url\": \"http://i.imgur.com/cnjxQpk.jpg\", \"author_flair_text\": null, \"author\": \"divine_intuition\", \"created_utc\": 1361993369.0, \"ups\": 20398, \"num_comments\": 630, \"num_reports\": null, \"distinguished\": null}}, {\"kind\": \"t3\", \"data\": {\"domain\": \"imgur.com\", \"banned_by\": null, \"media_embed\": {}, \"subreddit\": \"funny\", \"selftext_html\": null, \"selftext\": \"\", \"likes\": null, \"link_flair_text\": null, \"id\": \"19cj1s\", \"clicked\": false, \"title\": \"Apparently, Poseidon plays for my school's Water Polo team\", \"media\": null, \"score\": 2457, \"approved_by\": null, \"over_18\": false, \"hidden\": false, \"thumbnail\": \"\", \"subreddit_id\": \"t5_2qh33\", \"edited\": false, \"link_flair_css_class\": null, \"author_flair_css_class\": null, \"downs\": 29072, \"saved\": false, \"is_self\": false, \"permalink\": \"/r/funny/comments/19cj1s/apparently_poseidon_plays_for_my_schools_water/\", \"name\": \"t3_19cj1s\", \"created\": 1361996215.0, \"url\": \"http://imgur.com/vRV6zeG\", \"author_flair_text\": null, \"author\": \"Sixxish\", \"created_utc\": 1361996215.0, \"ups\": 31529, \"num_comments\": 769, \"num_reports\": null, \"distinguished\": null}}, {\"kind\": \"t3\", \"data\": {\"domain\": \"science.nbcnews.com\", \"banned_by\": null, \"media_embed\": {}, \"subreddit\": \"science\", \"selftext_html\": null, \"selftext\": \"\", \"likes\": null, \"link_flair_text\": null, \"id\": \"19cefe\", \"clicked\": false, \"title\": \"500-million-year-old sea creature unearthed\", \"media\": null, \"score\": 2440, \"approved_by\": null, \"over_18\": false, \"hidden\": false, \"thumbnail\": \"\", \"subreddit_id\": \"t5_mouw\", \"edited\": false, \"link_flair_css_class\": null, \"author_flair_css_class\": null, \"downs\": 5410, \"saved\": false, \"is_self\": false, \"permalink\": \"/r/science/comments/19cefe/500millionyearold_sea_creature_unearthed/\", \"name\": \"t3_19cefe\", \"created\": 1362021808.0, \"url\": \"http://science.nbcnews.com/_news/2013/02/27/17119273-500-million-year-old-sea-creature-unearthed\", \"author_flair_text\": null, \"author\": \"newsfollower\", \"created_utc\": 1361993008.0, \"ups\": 7850, \"num_comments\": 544, \"num_reports\": null, \"distinguished\": null}}], \"after\": \"t3_19cefe\", \"before\": null}}"
  end

end
